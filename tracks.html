<!DOCTYPE html>
<html lang="de">

	<head>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- MOBIL -->
		<title>Home</title>
		<link rel="icon" href="src/img/Pierre-Logo.png" type="image/icon type">
		<link rel="stylesheet" type="text/css" href="src/css/styles.min.css">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Rubik:ital@0;1&display=swap" rel="stylesheet">

	</head>

	<body>

		<!-- === NAVIGATIONSLEISTE === -->

	<nav id="header-nav">

		<div class="container" id="desktop-nav">
			<div class="row">
				<div class="col-6">
					<a href="index.html" class="logo-link"><img src="src/img/Pierre-Logo.png" alt="Logo von Prod. by Hellmood"></a>
						<ul>
							<li class="active"><a href="index.html">Home</a></li>
							<li><a href="tracks.html">Beats</a></li>
							<li><a href="contact.html">Contact</a></li>
							<!-- <li><a href="pics.html">Pics</a></li> -->
						</ul>
				</div>
			</div>
		</div>
		<div class="container" id="mobile-nav">
			<div class="row">
				<div class="col-6">
					<a href="index.html" class="logo-link">
						<img src="src/img/Pierre-Logo.png" alt="Logo von Prod. by Hellmood"></a>

							<label for="mycheckbox" class="menu-toggler">
								<i class="fa fa-bars"></i>
							</label>
							<input type="checkbox" id="mycheckbox">
							<div class="clearfix" id="mobile-nav-content">
								<ul>
									<li class="active-mobile"><a href="index.html">Home</a></li>
									<li><a href="tracks.html">Tracks</a></li>
									<li><a href="contact.html">Contact</a></li>
								</ul>
							</div>
							<!-- <div class="clearfix" id="mobile-nav-dropdown">
							<div id="mobile-nav-button"><i class="fa fa-bars"></i></div>
							<div class="clearfix" id="mobile-nav-content">
							<ul>
								<li class="active-mobile"><a href="index.html">Home</a></li>
								<li><a href="tracks.html">Tracks</a></li>
								<li><a href="contact.html">Contact</a></li>
								 <li><a href="pics.html">Pics</a></li>
							</ul>
						</div>
					</div> -->
				</div>
			</div>
		</div>

	</nav>

		<!-- === HEADER-BANNER === -->

			<header id="header-banner"></header>

			<!-- === TRACK-LIST === -->

			<section id="tracklist">
				<div class="container">

					<header>
						<div class="row">
							<div class="col-6">
								<h1>Check All My Beats</h1>
								<p>You can listen to all the Beats i sell right here. If you click on the shopping
									 cart, the site will lead you to Beatstars.com where you can buy the track. Enjoy!</p>
									 <p>Shopping Button will lead you to Beatstars.com!</p>
							</div>
						</div>
							<nav>
								<div class="row">
									<div class="col-3">
										<ul class="left">
											<li><a href="">Recently added</a></li>
											<li><a href="">Best of the year</a></li>
											<li><a href="">Highly recommend</a></li>
										</ul>
									</div>
									<div class="col-3">
										<ul class="right">
											<li class="autoplay-btn"><a href="">
												<label>
													<h5>AUTOPLAY</h5>
													<input type="checkbox">
													<span></span>
												</label>
											</a></li>
										</ul>
									</div>
								</div>
							</nav>
					</header>

					<div class="tracklist-content">
						<div class="row">
							<div class="col-6">
								<div class="title">
									<span></span>
									<span>TITLE</span>
									<span>BPM</span>
									<span>TAGS</span>
									<span>DURATION</span>
									<span></span>
									<span></span>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-6">
								<div class="list">

								</div>
							</div>
						</div>
					</div>

				</div>
			</section>

			<!-- === FOOTER === -->

		<footer id="footer">
		<div class="container">
			<div class="row">
				<div class="col-2">
					<div class="footer-left">
						<ul>
							<li>©2021 Leonardo Jülch</li>
							<li><a href="index.html">Home</a></li>
							<li><a href="tracks.html">Beats</a></li>
							<li><a href="contact.html">Contact</a></li>
						</ul>
					</div>
				</div>
					<div class="col-2">
						<div class="footer-middle">
							<ul>
								<li><a href="https://www.beatstars.com/prodbyhellmood/feed" title="Beatstars" target="_blank"><i class="pj-beatstars"></i></a></li>
								<li><a href="https://www.youtube.com/channel/UCqpD260M5RC5GrH42jK2JOg" title="Youtube" target="_blank"><i class="fa fa-youtube"></i></a></li>
								<li><a href="https://www.instagram.com/prod_by_hellmood/?hl=de" title="Instagram" target="_blank"><i class="fa fa-instagram"></i></a></li>
								<li><a href="https://soundcloud.com/prodbyhellmood" title="Soundcloud" target="_blank"><i class="fa fa-soundcloud"></i></a></li>
							</ul>
						</div>
					</div>
					<div class="col-2">
						<div class="footer-right">
							<ul>
								<li><a href="impressum.html">Impressum</a></li>
							</ul>
						</div>
				</div>
			</div>
		</div>
		</footer>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
		<script src="src/js/data.js"></script>
		<script>

		$(document).ready(function(){

			var list = $(".list");
			var list_block;

			for (var key in song_list){
					list_block = $('<div class="list_block"></div>');
					list.append(list_block);

					list_block.append('<span class="play_btn"><i class="fa fa-play" aria-hidden="true"></i><i class="fa fa-pause" aria-hidden="true"></i></span>');
					list_block.append('<span class="song_title">'+ song_list[key].title + '</span>');
					list_block.append('<span class="song_bpm">'+ song_list[key].bpm + '</span>');
					list_block.append('<span class="song_tags">'+ song_list[key].tags + '</span>');
					list_block.append('<span class="song_duration">'+ song_list[key].duration + '</span>');
					list_block.append('<span class="beat_animation"><ul><li></li><li></li><li></li><li></li><li></li></ul></span>');
					list_block.append('<span class="track"><audio id="audio" controls><source src="src/tracks/'+ song_list[key].track +'" type="audio/mp3"></audio></span>');
					list_block.append('<span class="shopping_btn"><a target="_blank" href="https://www.beatstars.com/prodbyhellmood/tracks'+ song_list[key].track +'"><i class="fa fa-shopping-cart fa-2x" aria-hidden="true"></i></a></span>');
			}


			//PLAY FUNCTIONALITY
			$(".list_block .play_btn .fa-play").on('click', function(current){

				$(this).parent().find(".fa-play").css("display", "none");
				$(this).parent().find(".fa-pause").css("display", "inline-block");
				$(".fa-play").not(this).parent().find(".fa-pause").css("display", "none");
				$(".fa-play").not(this).parent().find(".fa-play").css("display", "inline-block");

				//ADD/REMOVE CLASS
				$(this).parent().parent().addClass("isPlaying");
				$(".fa-play").not(this).parent().parent().removeClass("isPlaying");

				//BEAT ANIMATION PLAY
				$(this).parent().parent().find(".beat_animation li").css("animation-play-state", "running").
				css("opacity", "1");
				$(".fa-play").not(this).parent().parent().find(".beat_animation li").css("animation-play-state", "paused").
				css("opacity", ".1");


				// PAUSE CURRENT AUDIO TRACK WHEN PLAY NEXT/PREV AUDIO TRACK
				$("audio").each(function(e){
					if(e !== current.currentTarget){
						$(this)[0].pause();
					}
				})

				//PLAY CURRENT AUDIO TRACK
				$(this).parent().parent().find(".track audio")[0].play();
			});

			//PAUSE FUNCTIONALITY
			$(".list_block .play_btn .fa-pause").on('click', function(){

				//HIDE PAUSE ICON
				$(this).parent().find(".fa-pause").css("display", "none");
				//SHOW PLAY ICON
				$(this).parent().find(".fa-play").css("display", "inline-block");

				//BEAT ANIMATION PAUSE
				$(this).parent().parent().find(".beat_animation li").css("animation-play-state", "paused");

				//PAUSE CURRENT AUDIO TRACK
				$(this).parent().parent().find(".track audio")[0].pause();
			});

			//AUTOPLAY FUNCTIONALITY
			$(".autoplay-btn input").on('change', function(){
				if($(this).is(":checked")){
					$("audio").on('ended', function(){

						$(this).parent().parent().next().find("audio")[0].play();

						$(".list_block").removeClass("isPlaying");
						$(this).parent().parent().next().addClass("isPlaying");
						$(this).parent().parent().next().find(".beat_animation li").css("animation-play-state", "running").css("opacity", "1");
						$(this).parent().parent().next().find(".fa-play").css("display", "none");
						$(this).parent().parent().next().find(".fa-pause").css("display", "inline-block");

					});
				} else {

					$("audio").on('ended', function(){
						$(".beat_animation li").css("animation-play-state", "paused").css("opacity", ".1");
						$(".fa-pause").css("display", "inline-block");
					});

				}
			}).change();

		});

		</script>

	</body>

</html>
